<div class="container">

    <!-- filter -->
    <div class="filter-container">
        <div class="filter" [class]="hideFilter?'filter--hide':''">
            <div (click)="hideFilter=!hideFilter" class="filter__header">
                <div class="filter__header__text " [class]="hideFilter?'filter__header__text--hide':''">Filter</div>
                <div class="filter__header__icon">
                    <mat-icon>filter_list</mat-icon>
                </div>
            </div>
            <div class="filter__body" [class]="hideFilter?'filter__body--hide':''">
                <div class="filter__body__category">
                    <div class="filter__body__title">Gender</div>
                    <mat-radio-group class="filter__body__items" (change)="handleCatgeoryChange()" [(ngModel)]="gender">
                        <mat-radio-button value="">All</mat-radio-button>
                        <mat-radio-button class="filter__body__item" value="female">Female
                        </mat-radio-button>
                        <mat-radio-button class="filter__body__item" value="male">Male
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
                <div class="filter__body__category">
                    <div class="filter__body__title">Nationality</div>
                    <div class="">
                        <mat-form-field appearance="fill">
                            <mat-label class="filter__body__label">Nationality</mat-label>
                            <mat-select [formControl]="nationalities" multiple
                                (selectionChange)="handleCatgeoryChange()">
                                <mat-select-trigger>
                                    {{nationalities.value ? nationalities.value[0] : ''}}
                                    <span *ngIf="nationalities.value?.length > 1">
                                        (+{{nationalities.value.length - 1}} {{nationalities.value?.length === 2 ?
                                        'other' :
                                        'others'}})
                                    </span>
                                </mat-select-trigger>
                                <mat-option *ngFor="let nationality of nationalityList" [value]="nationality.code">
                                    {{nationality.label}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <a [href]="exportUsers()" class="filter__body__footer">You can export your list now.</a>
            </div>
        </div>
    </div>

    <!-- cards -->

    <!-- without virtual scroll -->
    <!-- <div class="cards">
        <app-card *ngFor="let user of users" [user]="user"></app-card>
    </div> -->

    <!-- virtual scroll -->
    <cdk-virtual-scroll-viewport [itemSize]="count" class="virtual-scroll">
        <div class="cards">
            <app-card *cdkVirtualFor="let user of users" [user]="user"></app-card>
        </div>
    </cdk-virtual-scroll-viewport>

</div>